/* liteUploader v1.4.1 | https://github.com/burt202/lite-uploader | Aaron Burtnyk (http://www.burtdev.net) */

$.fn.liteUploader=function(a){"use strict";function d(a,b){var c=[];return b.allowedFileTypes&&-1===$.inArray(a.type,b.allowedFileTypes.split(","))&&c.push({type:"type",rule:b.allowedFileTypes,given:a.type}),b.maxSizeInBytes&&a.size>b.maxSizeInBytes&&c.push({type:"size",rule:b.maxSizeInBytes,given:a.size}),c}function e(a,b){var c=!1;return $.each(a,function(e){var f=d(a[e],b);f.length>0&&(c=!0),b.each(a[e],f)}),c?!1:!0}function f(a,b,c){var d=new FormData;return a.attr("id")&&d.append("liteUploader_id",a.attr("id")),$.each(b,function(a,b){d.append(a,b)}),$.each(c,function(b){d.append(a.attr("name"),c[b])}),d}function g(a){a.replaceWith(a.clone(!0))}function h(a,b,c){$.ajax({xhr:function(){var a=new XMLHttpRequest;return a.upload.addEventListener("progress",function(a){a.lengthComputable&&b.progress(Math.floor(100*(a.loaded/a.total)))},!1),a},url:b.script,type:"POST",data:c,processData:!1,contentType:!1}).always(function(){g(a)}).done(function(a){b.success(a)}).fail(function(a){b.fail(a)})}var b={},c={};b={script:null,allowedFileTypes:null,maxSizeInBytes:null,customParams:{},before:function(){return!0},each:function(){},progress:function(){},success:function(){},fail:function(){}},c=$.extend(b,a),this.change(function(){var a=$(this);return a.attr("name")&&c.script&&c.before()&&0!==this.files.length&&e(this.files,c)?(h(a,c,f(a,c.customParams,this.files)),void 0):(g(a),void 0)})};